<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>SyntaxChecker.h</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">SyntaxChecker.h&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (C) 2010 Apple Inc. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY APPLE INC. AND ITS CONTRIBUTORS ``AS IS''
 * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
 * THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL APPLE INC. OR ITS CONTRIBUTORS
 * BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
 * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
 * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
 * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
 * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
 * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF
 * THE POSSIBILITY OF SUCH DAMAGE.
 */</span>

#<span class="enscript-reference">ifndef</span> <span class="enscript-variable-name">SyntaxChecker_h</span>
#<span class="enscript-reference">define</span> <span class="enscript-variable-name">SyntaxChecker_h</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;Lexer.h&quot;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&lt;yarr/YarrSyntaxChecker.h&gt;</span>

namespace JSC {
    
class SyntaxChecker {
<span class="enscript-reference">public</span>:
    <span class="enscript-type">struct</span> BinaryExprContext {
        BinaryExprContext(SyntaxChecker&amp; context)
            : m_context(&amp;context)
        {
            m_context-&gt;m_topBinaryExprs.append(m_context-&gt;m_topBinaryExpr);
            m_context-&gt;m_topBinaryExpr = 0;
        }
        ~BinaryExprContext()
        {
            m_context-&gt;m_topBinaryExpr = m_context-&gt;m_topBinaryExprs.last();
            m_context-&gt;m_topBinaryExprs.removeLast();
        }
    <span class="enscript-reference">private</span>:
        SyntaxChecker* m_context;
    };
    <span class="enscript-type">struct</span> UnaryExprContext {
        UnaryExprContext(SyntaxChecker&amp; context)
            : m_context(&amp;context)
        {
            m_context-&gt;m_topUnaryTokens.append(m_context-&gt;m_topUnaryToken);
            m_context-&gt;m_topUnaryToken = 0;
        }
        ~UnaryExprContext()
        {
            m_context-&gt;m_topUnaryToken = m_context-&gt;m_topUnaryTokens.last();
            m_context-&gt;m_topUnaryTokens.removeLast();
        }
    <span class="enscript-reference">private</span>:
        SyntaxChecker* m_context;
    };
    
    SyntaxChecker(JSGlobalData* , <span class="enscript-type">void</span>*)
    {
    }

    <span class="enscript-type">typedef</span> SyntaxChecker FunctionBodyBuilder;
    <span class="enscript-type">enum</span> { NoneExpr = 0,
        ResolveEvalExpr, ResolveExpr, NumberExpr, StringExpr,
        ThisExpr, NullExpr, BoolExpr, RegExpExpr, ObjectLiteralExpr,
        FunctionExpr, BracketExpr, DotExpr, CallExpr,
        NewExpr, PreExpr, PostExpr, UnaryExpr, BinaryExpr,
        ConditionalExpr, AssignmentExpr, TypeofExpr,
        DeleteExpr, ArrayLiteralExpr };
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> ExpressionType;

    <span class="enscript-type">typedef</span> ExpressionType Expression;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> SourceElements;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> Arguments;
    <span class="enscript-type">typedef</span> ExpressionType Comma;
    <span class="enscript-type">struct</span> Property {
        ALWAYS_INLINE Property(<span class="enscript-type">void</span>* = 0)
            : type((PropertyNode::Type)0)
        {
        }
        ALWAYS_INLINE Property(<span class="enscript-type">const</span> Identifier* ident, PropertyNode::Type ty)
        : name(ident)
        , type(ty)
        {
        }
        ALWAYS_INLINE Property(PropertyNode::Type ty)
            : name(0)
            , type(ty)
        {
        }
        ALWAYS_INLINE bool operator!() { <span class="enscript-keyword">return</span> !type; }
        <span class="enscript-type">const</span> Identifier* name;
        <span class="enscript-reference">PropertyNode</span>::Type type;
    };
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> PropertyList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> ElementList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> ArgumentsList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> FormalParameterList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> FunctionBody;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> Statement;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> ClauseList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> Clause;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> ConstDeclList;
    <span class="enscript-type">typedef</span> <span class="enscript-type">int</span> BinaryOperand;
    
    <span class="enscript-type">static</span> <span class="enscript-type">const</span> bool CreatesAST = false;
    <span class="enscript-type">static</span> <span class="enscript-type">const</span> bool NeedsFreeVariableInfo = false;
    <span class="enscript-type">static</span> <span class="enscript-type">const</span> bool CanUseFunctionCache = true;
    <span class="enscript-type">static</span> <span class="enscript-type">const</span> <span class="enscript-type">unsigned</span> DontBuildKeywords = LexexFlagsDontBuildKeywords;
    <span class="enscript-type">static</span> <span class="enscript-type">const</span> <span class="enscript-type">unsigned</span> DontBuildStrings = LexerFlagsDontBuildStrings;

    <span class="enscript-type">int</span> createSourceElements() { <span class="enscript-keyword">return</span> 1; }
    ExpressionType makeFunctionCallNode(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> CallExpr; }
    <span class="enscript-type">void</span> appendToComma(ExpressionType&amp; base, ExpressionType right) { base = right; }
    ExpressionType createCommaExpr(<span class="enscript-type">int</span>, ExpressionType, ExpressionType right) { <span class="enscript-keyword">return</span> right; }
    ExpressionType makeAssignNode(<span class="enscript-type">int</span>, ExpressionType, Operator, ExpressionType, bool, bool, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> AssignmentExpr; }
    ExpressionType makePrefixNode(<span class="enscript-type">int</span>, ExpressionType, Operator, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> PreExpr; }
    ExpressionType makePostfixNode(<span class="enscript-type">int</span>, ExpressionType, Operator, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> PostExpr; }
    ExpressionType makeTypeOfNode(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> TypeofExpr; }
    ExpressionType makeDeleteNode(<span class="enscript-type">int</span>, ExpressionType, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> DeleteExpr; }
    ExpressionType makeNegateNode(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> UnaryExpr; }
    ExpressionType makeBitwiseNotNode(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> UnaryExpr; }
    ExpressionType createLogicalNot(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> UnaryExpr; }
    ExpressionType createUnaryPlus(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> UnaryExpr; }
    ExpressionType createVoid(<span class="enscript-type">int</span>, ExpressionType) { <span class="enscript-keyword">return</span> UnaryExpr; }
    ExpressionType thisExpr(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ThisExpr; }
    ExpressionType createResolve(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ResolveExpr; }
    ExpressionType createObjectLiteral(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ObjectLiteralExpr; }
    ExpressionType createObjectLiteral(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ObjectLiteralExpr; }
    ExpressionType createArray(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ArrayLiteralExpr; }
    ExpressionType createArray(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> ArrayLiteralExpr; }
    ExpressionType createNumberExpr(<span class="enscript-type">int</span>, <span class="enscript-type">double</span>) { <span class="enscript-keyword">return</span> NumberExpr; }
    ExpressionType createString(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*) { <span class="enscript-keyword">return</span> StringExpr; }
    ExpressionType createBoolean(<span class="enscript-type">int</span>, bool) { <span class="enscript-keyword">return</span> BoolExpr; }
    ExpressionType createNull(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> NullExpr; }
    ExpressionType createBracketAccess(<span class="enscript-type">int</span>, ExpressionType, ExpressionType, bool, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> BracketExpr; }
    ExpressionType createDotAccess(<span class="enscript-type">int</span>, ExpressionType, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> DotExpr; }
    ExpressionType createRegExp(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier&amp; pattern, <span class="enscript-type">const</span> Identifier&amp;, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> Yarr::checkSyntax(pattern.ustring()) ? 0 : RegExpExpr; }
    ExpressionType createNewExpr(<span class="enscript-type">int</span>, ExpressionType, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> NewExpr; }
    ExpressionType createNewExpr(<span class="enscript-type">int</span>, ExpressionType, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> NewExpr; }
    ExpressionType createConditionalExpr(<span class="enscript-type">int</span>, ExpressionType, ExpressionType, ExpressionType) { <span class="enscript-keyword">return</span> ConditionalExpr; }
    ExpressionType createAssignResolve(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier&amp;, ExpressionType, bool, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> AssignmentExpr; }
    ExpressionType createFunctionExpr(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> FunctionExpr; }
    <span class="enscript-type">int</span> createFunctionBody(<span class="enscript-type">int</span>, bool) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createArguments() { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createArguments(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createArgumentsList(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createArgumentsList(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    template &lt;bool complete&gt; Property createProperty(<span class="enscript-type">const</span> Identifier* name, <span class="enscript-type">int</span>, PropertyNode::Type type)
    {
        <span class="enscript-keyword">if</span> (!complete)
            <span class="enscript-keyword">return</span> Property(type);
        ASSERT(name);
        <span class="enscript-keyword">return</span> Property(name, type);
    }
    template &lt;bool complete&gt; Property createProperty(JSGlobalData* globalData, <span class="enscript-type">double</span> name, <span class="enscript-type">int</span>, PropertyNode::Type type)
    {
        <span class="enscript-keyword">if</span> (!complete)
            <span class="enscript-keyword">return</span> Property(type);
        <span class="enscript-keyword">return</span> Property(&amp;globalData-&gt;parserArena-&gt;identifierArena().makeNumericIdentifier(globalData, name), type);
    }
    <span class="enscript-type">int</span> createPropertyList(<span class="enscript-type">int</span>, Property) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createPropertyList(<span class="enscript-type">int</span>, Property, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createElementList(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createElementList(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createFormalParameterList(<span class="enscript-type">const</span> Identifier&amp;) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createFormalParameterList(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier&amp;) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createClause(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createClauseList(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createClauseList(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">void</span> setUsesArguments(<span class="enscript-type">int</span>) { }
    <span class="enscript-type">int</span> createFuncDeclStatement(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createBlockStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createExprStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createIfStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createIfStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createForLoop(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, bool, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createForInLoop(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createForInLoop(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createEmptyStatement(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createVarStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createReturnStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createBreakStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createBreakStatement(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createContinueStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createContinueStatement(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createTryStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createSwitchStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createWhileStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createWithStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createDoWhileStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createLabelStatement(<span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createThrowStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createDebugger(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> createConstStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> appendConstDecl(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">const</span> Identifier*, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    template &lt;bool strict&gt; Property createGetterOrSetterProperty(<span class="enscript-type">int</span>, PropertyNode::Type type, <span class="enscript-type">const</span> Identifier* name, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>)
    {
        ASSERT(name);
        <span class="enscript-keyword">if</span> (!strict)
            <span class="enscript-keyword">return</span> Property(type);
        <span class="enscript-keyword">return</span> Property(name, type);
    }
    template &lt;bool strict&gt; Property createGetterOrSetterProperty(JSGlobalData* globalData, <span class="enscript-type">int</span>, PropertyNode::Type type, <span class="enscript-type">double</span> name, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>)
    {
        <span class="enscript-keyword">if</span> (!strict)
            <span class="enscript-keyword">return</span> Property(type);
        <span class="enscript-keyword">return</span> Property(&amp;globalData-&gt;parserArena-&gt;identifierArena().makeNumericIdentifier(globalData, name), type);
    }

    <span class="enscript-type">void</span> appendStatement(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { }
    <span class="enscript-type">void</span> addVar(<span class="enscript-type">const</span> Identifier*, bool) { }
    <span class="enscript-type">int</span> combineCommaNodes(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">int</span> evalCount() <span class="enscript-type">const</span> { <span class="enscript-keyword">return</span> 0; }
    <span class="enscript-type">void</span> appendBinaryExpressionInfo(<span class="enscript-type">int</span>&amp; operandStackDepth, <span class="enscript-type">int</span> expr, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, bool)
    {
        <span class="enscript-keyword">if</span> (!m_topBinaryExpr)
            m_topBinaryExpr = expr;
        <span class="enscript-keyword">else</span>
            m_topBinaryExpr = BinaryExpr;
        operandStackDepth++;
    }
    
    <span class="enscript-comment">// Logic to handle datastructures used during parsing of binary expressions
</span>    <span class="enscript-type">void</span> operatorStackPop(<span class="enscript-type">int</span>&amp; operatorStackDepth) { operatorStackDepth--; }
    bool operatorStackHasHigherPrecedence(<span class="enscript-type">int</span>&amp;, <span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> true; }
    BinaryOperand getFromOperandStack(<span class="enscript-type">int</span>) { <span class="enscript-keyword">return</span> m_topBinaryExpr; }
    <span class="enscript-type">void</span> shrinkOperandStackBy(<span class="enscript-type">int</span>&amp; operandStackDepth, <span class="enscript-type">int</span> amount) { operandStackDepth -= amount; }
    <span class="enscript-type">void</span> appendBinaryOperation(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>&amp; operandStackDepth, <span class="enscript-type">int</span>&amp;, BinaryOperand, BinaryOperand) { operandStackDepth++; }
    <span class="enscript-type">void</span> operatorStackAppend(<span class="enscript-type">int</span>&amp; operatorStackDepth, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { operatorStackDepth++; }
    <span class="enscript-type">int</span> popOperandStack(<span class="enscript-type">int</span>&amp;) { <span class="enscript-type">int</span> res = m_topBinaryExpr; m_topBinaryExpr = 0; <span class="enscript-keyword">return</span> res; }
    
    <span class="enscript-type">void</span> appendUnaryToken(<span class="enscript-type">int</span>&amp; stackDepth, <span class="enscript-type">int</span> tok, <span class="enscript-type">int</span>) { stackDepth = 1; m_topUnaryToken = tok; }
    <span class="enscript-type">int</span> unaryTokenStackLastType(<span class="enscript-type">int</span>&amp;) { <span class="enscript-keyword">return</span> m_topUnaryToken; }
    <span class="enscript-type">int</span> unaryTokenStackLastStart(<span class="enscript-type">int</span>&amp;) { <span class="enscript-keyword">return</span> 0; }
    <span class="enscript-type">void</span> unaryTokenStackRemoveLast(<span class="enscript-type">int</span>&amp; stackDepth) { stackDepth = 0; }
    
    <span class="enscript-type">void</span> assignmentStackAppend(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, Operator) { }
    <span class="enscript-type">int</span> createAssignment(<span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>, <span class="enscript-type">int</span>) { ASSERT_NOT_REACHED(); <span class="enscript-keyword">return</span> 1; }
    <span class="enscript-type">const</span> Identifier&amp; getName(<span class="enscript-type">const</span> Property&amp; property) <span class="enscript-type">const</span> { ASSERT(property.name); <span class="enscript-keyword">return</span> *property.name; }
    <span class="enscript-reference">PropertyNode</span>::Type getType(<span class="enscript-type">const</span> Property&amp; property) <span class="enscript-type">const</span> { <span class="enscript-keyword">return</span> property.type; }
    bool isResolve(ExpressionType expr) <span class="enscript-type">const</span> { <span class="enscript-keyword">return</span> expr == ResolveExpr || expr == ResolveEvalExpr; }
    
<span class="enscript-reference">private</span>:
    <span class="enscript-type">int</span> m_topBinaryExpr;
    <span class="enscript-type">int</span> m_topUnaryToken;
    Vector&lt;<span class="enscript-type">int</span>, 8&gt; m_topBinaryExprs;
    Vector&lt;<span class="enscript-type">int</span>, 8&gt; m_topUnaryTokens;
};

}

#<span class="enscript-reference">endif</span>
</pre>
<hr />
</body></html>