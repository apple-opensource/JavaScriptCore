<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>menuhead.html</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">menuhead.html&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-keyword">&lt;!DOCTYPE HTML PUBLIC </span><span class="enscript-string">&quot;-//IETF//DTD HTML//EN&quot;</span><span class="enscript-keyword">&gt;</span>
<span class="enscript-keyword">&lt;html&gt;</span>
  <span class="enscript-keyword">&lt;head&gt;</span>
    <span class="enscript-keyword">&lt;title&gt;</span>Core JavaScript Tests<span class="enscript-keyword">&lt;/title&gt;</span>

    <span class="enscript-keyword">&lt;script language=&quot;</span><span class="enscript-string">JavaScript</span><span class="enscript-keyword">&quot;&gt;</span>
      <span class="enscript-keyword">function</span> <span class="enscript-function-name">selectAll</span> (suite, testDir)
      {
	  <span class="enscript-keyword">if</span> (typeof suite == <span class="enscript-string">&quot;undefined&quot;</span>)
	      <span class="enscript-keyword">for</span> (<span class="enscript-keyword">var</span> suite <span class="enscript-keyword">in</span> suites)
		  setAllDirs (suite, <span class="enscript-keyword">true</span>);
	  <span class="enscript-keyword">else</span> <span class="enscript-keyword">if</span> (typeof testDir == <span class="enscript-string">&quot;undefined&quot;</span>)
	      setAllDirs (suite, <span class="enscript-keyword">true</span>);
	  <span class="enscript-keyword">else</span>
	      setAllTests (suite, testDir, <span class="enscript-keyword">true</span>);
	  updateTotals();
      }

      <span class="enscript-keyword">function</span> <span class="enscript-function-name">selectNone</span> (suite, testDir)
      {
	  
	  <span class="enscript-keyword">if</span> (typeof suite == <span class="enscript-string">&quot;undefined&quot;</span>)
	      <span class="enscript-keyword">for</span> (<span class="enscript-keyword">var</span> suite <span class="enscript-keyword">in</span> suites)
		  setAllDirs (suite, <span class="enscript-keyword">false</span>);
	  <span class="enscript-keyword">else</span> <span class="enscript-keyword">if</span> (typeof testDir == <span class="enscript-string">&quot;undefined&quot;</span>)
	      setAllDirs (suite, <span class="enscript-keyword">false</span>);
	  <span class="enscript-keyword">else</span>
	      setAllTests (suite, testDir, <span class="enscript-keyword">false</span>);
	  updateTotals();	
      }

      <span class="enscript-keyword">function</span> <span class="enscript-function-name">setAllDirs</span> (suite, value)
      {
	  <span class="enscript-keyword">var</span> dir;
	  <span class="enscript-keyword">for</span> (dir <span class="enscript-keyword">in</span> suites[suite].testDirs)
	      setAllTests (suite, dir, value);

      }

      <span class="enscript-keyword">function</span> <span class="enscript-function-name">setAllTests</span> (suite, testDir, value)
      {
	  <span class="enscript-keyword">var</span> test, radioName;
	  
	  <span class="enscript-keyword">for</span> (test <span class="enscript-keyword">in</span> suites[suite].testDirs[testDir].tests)
	  {
	      radioName = suites[suite].testDirs[testDir].tests[test];
	      document.forms[<span class="enscript-string">&quot;testCases&quot;</span>].elements[radioName].checked = value;
	  }

      }

      <span class="enscript-keyword">function</span> <span class="enscript-function-name">createList</span> ()
      {
	  <span class="enscript-keyword">var</span> suite, testDir, test, radioName;
	  <span class="enscript-keyword">var</span> elements = document.forms[<span class="enscript-string">&quot;testCases&quot;</span>].elements;

	  <span class="enscript-keyword">var</span> win = window.open (<span class="enscript-string">&quot;about:blank&quot;</span>, <span class="enscript-string">&quot;other_window&quot;</span>);
	  win.document.open();
	  win.document.write (<span class="enscript-string">&quot;&lt;pre&gt;\n&quot;</span>);
	  
	  win.document.write (<span class="enscript-string">&quot;# Created &quot;</span> + <span class="enscript-keyword">new</span> <span class="enscript-builtin">Date</span>() + <span class="enscript-string">&quot;\n&quot;</span>);

	  <span class="enscript-keyword">for</span> (suite <span class="enscript-keyword">in</span> suites)
	      win.document.write (<span class="enscript-string">&quot;# &quot;</span> + suite + <span class="enscript-string">&quot;: &quot;</span> + 
				  elements[<span class="enscript-string">&quot;SUMMARY_&quot;</span> + suite].value + <span class="enscript-string">&quot;\n&quot;</span>);
	  win.document.write (<span class="enscript-string">&quot;# TOTAL: &quot;</span> + elements[<span class="enscript-string">&quot;TOTAL&quot;</span>].value + <span class="enscript-string">&quot;\n&quot;</span>);

	  <span class="enscript-keyword">for</span> (suite <span class="enscript-keyword">in</span> suites)
	      <span class="enscript-keyword">for</span> (testDir <span class="enscript-keyword">in</span> suites[suite].testDirs)
		  <span class="enscript-keyword">for</span> (test <span class="enscript-keyword">in</span> suites[suite].testDirs[testDir].tests)
		  {  
		      radioName = suites[suite].testDirs[testDir].tests[test];
		      <span class="enscript-keyword">if</span> (elements[radioName].checked)
			  win.document.write (suite + <span class="enscript-string">&quot;/&quot;</span> + testDir + <span class="enscript-string">&quot;/&quot;</span> + 
					      elements[radioName].value + <span class="enscript-string">&quot;\n&quot;</span>);
		  }
	  
	  win.document.close();

      }

      <span class="enscript-keyword">function</span> <span class="enscript-function-name">onRadioClick</span> (name)
      {
	  <span class="enscript-keyword">var</span> radio = document.forms[<span class="enscript-string">&quot;testCases&quot;</span>].elements[name];
	  radio.checked = !radio.checked;
	  setTimeout (<span class="enscript-string">&quot;updateTotals();&quot;</span>, 100);
	  <span class="enscript-keyword">return</span> <span class="enscript-keyword">false</span>;
      }
    
      <span class="enscript-keyword">function</span> <span class="enscript-function-name">updateTotals</span>()
      {
	  <span class="enscript-keyword">var</span> suite, testDir, test, radioName, selected, available, pct;
	  <span class="enscript-keyword">var</span> totalAvailable = 0, totalSelected = 0;
	  
	  <span class="enscript-keyword">var</span> elements = document.forms[<span class="enscript-string">&quot;testCases&quot;</span>].elements;

	  <span class="enscript-keyword">for</span> (suite <span class="enscript-keyword">in</span> suites)
	  {
	      selected = available = 0;
	      <span class="enscript-keyword">for</span> (testDir <span class="enscript-keyword">in</span> suites[suite].testDirs)
		  <span class="enscript-keyword">for</span> (test <span class="enscript-keyword">in</span> suites[suite].testDirs[testDir].tests)
		  {  
		      available++
		      radioName = suites[suite].testDirs[testDir].tests[test];
		      <span class="enscript-keyword">if</span> (elements[radioName].checked)
			  selected++;
		  }
	      totalSelected += selected;
	      totalAvailable += available;
	      pct = <span class="enscript-builtin">parseInt</span>((selected / available) * 100);
	      <span class="enscript-keyword">if</span> (isNaN(pct))
		  pct = 0;
	      
	      elements[<span class="enscript-string">&quot;SUMMARY_&quot;</span> + suite].value = selected + <span class="enscript-string">&quot;/&quot;</span> + available +
                  <span class="enscript-string">&quot; (&quot;</span> + pct + <span class="enscript-string">&quot;%) selected&quot;</span>;
	  }

	  pct = <span class="enscript-builtin">parseInt</span>((totalSelected / totalAvailable) * 100);
	  <span class="enscript-keyword">if</span> (isNaN(pct))
	      pct = 0;
	      
	  elements[<span class="enscript-string">&quot;TOTAL&quot;</span>].value = totalSelected + <span class="enscript-string">&quot;/&quot;</span> + totalAvailable + <span class="enscript-string">&quot; (&quot;</span> +
	      pct + <span class="enscript-string">&quot;%) selected&quot;</span>;

      }
    
    <span class="enscript-keyword">&lt;/script&gt;</span>

  <span class="enscript-keyword">&lt;/head&gt;</span>

  <span class="enscript-keyword">&lt;body bgcolor=</span><span class="enscript-string">&quot;white&quot;</span><span class="enscript-keyword"> onLoad=</span><span class="enscript-string">&quot;updateTotals()&quot;</span><span class="enscript-keyword">&gt;</span>
    <span class="enscript-keyword">&lt;a name='top_of_page'&gt;</span><span class="enscript-keyword">&lt;/a&gt;</span>
    <span class="enscript-keyword">&lt;h1&gt;</span>Core JavaScript Tests<span class="enscript-keyword">&lt;/h1&gt;</span>

    <span class="enscript-keyword">&lt;form name=</span><span class="enscript-string">&quot;testCases&quot;</span><span class="enscript-keyword">&gt;</span>
    <span class="enscript-keyword">&lt;input type='button' value='Export Test List' onClick='createList();'&gt;</span>
    <span class="enscript-keyword">&lt;input type='button' value='Import Test List' 
      onClick='window.open(</span><span class="enscript-string">&quot;importList.html&quot;</span><span class="enscript-keyword">, </span><span class="enscript-string">&quot;other_window&quot;</span><span class="enscript-keyword">);'&gt;</span>
</pre>
<hr />
</body></html>