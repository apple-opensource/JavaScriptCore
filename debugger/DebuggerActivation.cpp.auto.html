<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>DebuggerActivation.cpp</title>
<style type="text/css">
.enscript-comment { font-style: italic; color: rgb(178,34,34); }
.enscript-function-name { font-weight: bold; color: rgb(0,0,255); }
.enscript-variable-name { font-weight: bold; color: rgb(184,134,11); }
.enscript-keyword { font-weight: bold; color: rgb(160,32,240); }
.enscript-reference { font-weight: bold; color: rgb(95,158,160); }
.enscript-string { font-weight: bold; color: rgb(188,143,143); }
.enscript-builtin { font-weight: bold; color: rgb(218,112,214); }
.enscript-type { font-weight: bold; color: rgb(34,139,34); }
.enscript-highlight { text-decoration: underline; color: 0; }
</style>
</head>
<body id="top">
<h1 style="margin:8px;" id="f1">DebuggerActivation.cpp&nbsp;&nbsp;&nbsp;<span style="font-weight: normal; font-size: 0.5em;">[<a href="?txt">plain text</a>]</span></h1>
<hr/>
<div></div>
<pre>
<span class="enscript-comment">/*
 * Copyright (C) 2008, 2009 Apple Inc. All rights reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in the
 *    documentation and/or other materials provided with the distribution.
 *
 * THIS SOFTWARE IS PROVIDED BY APPLE INC. ``AS IS'' AND ANY
 * EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
 * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
 * PURPOSE ARE DISCLAIMED.  IN NO EVENT SHALL APPLE INC. OR
 * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
 * EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
 * PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
 * PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY
 * OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 
 */</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;config.h&quot;</span>
#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;DebuggerActivation.h&quot;</span>

#<span class="enscript-reference">include</span> <span class="enscript-string">&quot;JSActivation.h&quot;</span>

namespace JSC {

<span class="enscript-function-name">ASSERT_HAS_TRIVIAL_DESTRUCTOR</span>(DebuggerActivation);

<span class="enscript-type">const</span> ClassInfo DebuggerActivation::s_info = { <span class="enscript-string">&quot;DebuggerActivation&quot;</span>, &amp;Base::s_info, 0, 0, CREATE_METHOD_TABLE(DebuggerActivation) };

<span class="enscript-function-name">DebuggerActivation::DebuggerActivation</span>(JSGlobalData&amp; globalData)
    : JSNonFinalObject(globalData, globalData.debuggerActivationStructure.get())
{
}

<span class="enscript-type">void</span> <span class="enscript-function-name">DebuggerActivation::finishCreation</span>(JSGlobalData&amp; globalData, JSObject* activation)
{
    <span class="enscript-reference">Base</span>::finishCreation(globalData);
    ASSERT(activation);
    ASSERT(activation-&gt;isActivationObject());
    m_activation.set(globalData, <span class="enscript-keyword">this</span>, jsCast&lt;JSActivation*&gt;(activation));
}

<span class="enscript-type">void</span> <span class="enscript-function-name">DebuggerActivation::visitChildren</span>(JSCell* cell, SlotVisitor&amp; visitor)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(cell);
    ASSERT_GC_OBJECT_INHERITS(thisObject, &amp;s_info);
    COMPILE_ASSERT(StructureFlags &amp; OverridesVisitChildren, OverridesVisitChildrenWithoutSettingFlag);
    ASSERT(thisObject-&gt;structure()-&gt;typeInfo().overridesVisitChildren());
    <span class="enscript-reference">JSObject</span>::visitChildren(thisObject, visitor);

    <span class="enscript-keyword">if</span> (thisObject-&gt;m_activation)
        visitor.append(&amp;thisObject-&gt;m_activation);
}

UString <span class="enscript-function-name">DebuggerActivation::className</span>(<span class="enscript-type">const</span> JSObject* object)
{
    <span class="enscript-type">const</span> DebuggerActivation* thisObject = jsCast&lt;<span class="enscript-type">const</span> DebuggerActivation*&gt;(object);
    <span class="enscript-keyword">return</span> thisObject-&gt;m_activation-&gt;methodTable()-&gt;className(thisObject-&gt;m_activation.get());
}

<span class="enscript-type">bool</span> <span class="enscript-function-name">DebuggerActivation::getOwnPropertySlot</span>(JSCell* cell, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName, PropertySlot&amp; slot)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(cell);
    <span class="enscript-keyword">return</span> thisObject-&gt;m_activation-&gt;methodTable()-&gt;getOwnPropertySlot(thisObject-&gt;m_activation.get(), exec, propertyName, slot);
}

<span class="enscript-type">void</span> <span class="enscript-function-name">DebuggerActivation::put</span>(JSCell* cell, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName, JSValue value, PutPropertySlot&amp; slot)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(cell);
    thisObject-&gt;m_activation-&gt;methodTable()-&gt;put(thisObject-&gt;m_activation.get(), exec, propertyName, value, slot);
}

<span class="enscript-type">void</span> <span class="enscript-function-name">DebuggerActivation::putDirectVirtual</span>(JSObject* object, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName, JSValue value, <span class="enscript-type">unsigned</span> attributes)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(object);
    thisObject-&gt;m_activation-&gt;methodTable()-&gt;putDirectVirtual(thisObject-&gt;m_activation.get(), exec, propertyName, value, attributes);
}

<span class="enscript-type">bool</span> <span class="enscript-function-name">DebuggerActivation::deleteProperty</span>(JSCell* cell, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(cell);
    <span class="enscript-keyword">return</span> thisObject-&gt;m_activation-&gt;methodTable()-&gt;deleteProperty(thisObject-&gt;m_activation.get(), exec, propertyName);
}

<span class="enscript-type">void</span> <span class="enscript-function-name">DebuggerActivation::getOwnPropertyNames</span>(JSObject* object, ExecState* exec, PropertyNameArray&amp; propertyNames, EnumerationMode mode)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(object);
    thisObject-&gt;m_activation-&gt;methodTable()-&gt;getPropertyNames(thisObject-&gt;m_activation.get(), exec, propertyNames, mode);
}

<span class="enscript-type">bool</span> <span class="enscript-function-name">DebuggerActivation::getOwnPropertyDescriptor</span>(JSObject* object, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName, PropertyDescriptor&amp; descriptor)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(object);
    <span class="enscript-keyword">return</span> thisObject-&gt;m_activation-&gt;methodTable()-&gt;getOwnPropertyDescriptor(thisObject-&gt;m_activation.get(), exec, propertyName, descriptor);
}

<span class="enscript-type">bool</span> <span class="enscript-function-name">DebuggerActivation::defineOwnProperty</span>(JSObject* object, ExecState* exec, <span class="enscript-type">const</span> Identifier&amp; propertyName, PropertyDescriptor&amp; descriptor, <span class="enscript-type">bool</span> shouldThrow)
{
    DebuggerActivation* thisObject = jsCast&lt;DebuggerActivation*&gt;(object);
    <span class="enscript-keyword">return</span> thisObject-&gt;m_activation-&gt;methodTable()-&gt;defineOwnProperty(thisObject-&gt;m_activation.get(), exec, propertyName, descriptor, shouldThrow);
}

} <span class="enscript-comment">// namespace JSC
</span></pre>
<hr />
</body></html>